parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"o+0C":[function(require,module,exports) {
"use strict";var t=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,s=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(h){r={error:h}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},e=this&&this.__spread||function(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(t(arguments[i]));return e};function i(t){return t.map(function(t){return t.slice()})}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this.animationClocks=[],this.initialTiles=i(t),this.tiles=i(t),this.canvas=e}return t.prototype.getWidth=function(){return this.tilesheet.getTileSize().width*Math.max.apply(Math,e(this.tiles.map(function(t){return t.length})))},t.prototype.getHeight=function(){var t=this.tilesheet.getTileSize().height;return this.tiles.length*t},t.prototype.setCanvas=function(t){return this.canvas=t,this},t.prototype.setTile=function(t,e,i){return this.tiles[e][t]=i,this},t.prototype.renderTile=function(t,e,i){void 0===i&&(i=this.canvas);var n=i.getContext("2d"),r=this.tiles[e][t],s=this.tilesheet.getTileRect(r),o=s.x,h=s.y,a=s.width,l=s.height;return n.drawImage(this.tilesheet.getImage(),o,h,a,l,t*a,e*l,a,l),this},t.prototype.render=function(t){var e=this;if(void 0===t&&(t=this.canvas),!this.tilesheet)throw new Error("Scene::render: tilesheet is not defined.");if(!t)throw new Error("Scene::render: no canvas provided.");return t.width=this.getWidth(),t.height=this.getHeight(),this.tiles.forEach(function(i,n){i.forEach(function(i,r){e.renderTile(r,n,t)})}),this},t.prototype.resetTiles=function(){return this.tiles=i(this.initialTiles),this},t.prototype.useTilesheet=function(t){var e=this;return this.tilesheet=t,this.animationClocks.forEach(function(t){window.clearInterval(t)}),this.animationClocks=[],this.tilesheet.getAnimations().forEach(function(t){var i=0,n=window.setInterval(function(){var n=i+1;t.tiles[n]||(n=0),e.tiles.forEach(function(r,s){r.forEach(function(r,o){if(r===t.tiles[i]){var h=t.tiles[n];e.setTile(o,s,h),e.canvas&&e.renderTile(o,s)}})}),i=n},t.speed);e.animationClocks.push(n)}),this},t}();exports.default=n;
},{}],"Ejft":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},e=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(e){o(e)}}function s(t){try{l(n.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,s)}l((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(t){this.tileWidth=16,this.tileHeight=16,this.margin=1,this.animations=[],this.image=new Image,this.image.src=t}return n.prototype.getAnimations=function(){return this.animations},n.prototype.setAnimations=function(t){return this.animations=t,this},n.prototype.getTileSize=function(){return{width:this.tileWidth,height:this.tileHeight}},n.prototype.setTileSize=function(t,e){return void 0===e&&(e=t),this.tileWidth=t,this.tileHeight=e,this},n.prototype.setMargin=function(t){return this.margin=t,this},n.prototype.getImage=function(){return this.image},n.prototype.getTileRect=function(e){if(!this.image.complete)throw new Error("Tilesheets::getTileRect: image is not fully loaded yet.");var i=this.image.naturalWidth,n=Math.ceil(i/(this.tileWidth+this.margin)),r=Math.floor(e/n),o=e%n;return t({x:o*this.tileWidth+o*this.margin,y:r*this.tileHeight+r*this.margin},this.getTileSize())},n.prototype.getTileStyle=function(t){if(!this.image.complete)throw new Error("Tilesheets::getTileStyle: image is not fully loaded yet.");var e=this.getTileRect(t);return{display:"inline-block",width:e.width+"px",height:e.height+"px",backgroundImage:"url("+this.image.src+")",backgroundPosition:"-"+e.x+"px -"+e.y+"px"}},n.prototype.getTileDomElement=function(t){if(!this.image.complete)throw new Error("Tilesheets::getTileDomElement: image is not fully loaded yet.");var e=document.createElement("span"),i=this.getTileStyle(t);return Object.keys(i).forEach(function(t){e.style[t]=i[t]}),e},n.prototype.waitForLoading=function(){return e(this,void 0,void 0,function(){var t=this;return i(this,function(e){return this.image.complete?[2]:[2,new Promise(function(e,i){t.image.onload=e,t.image.onerror=i})]})})},n}();exports.default=n;
},{}],"o2+O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./src/models/Scene");exports.Scene=e.default;var r=require("./src/models/Tilesheet");exports.Tilesheet=r.default;
},{"./src/models/Scene":"o+0C","./src/models/Tilesheet":"Ejft"}],"q84K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.getTileDomElement(5);document.getElementById("bush_sample").appendChild(t)};
},{}],"uzHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=document.getElementById("tilesheet_index_sample");t.style.backgroundImage="linear-gradient(rgba(255, 255, 255, .7), rgba(255, 255, 255, .7)), url("+e.image.src+")",t.style.width=e.image.naturalWidth+"px",t.style.height=e.image.naturalHeight+"px";for(var a=document.createDocumentFragment(),r=0,d=0;d<=7;d++){for(var n=document.createDocumentFragment(),l=0;l<=6;l++){var i=document.createElement("td");i.appendChild(document.createTextNode(""+r)),n.appendChild(i),r++}var c=document.createElement("tr");c.appendChild(n),a.appendChild(c)}t.appendChild(a)};
},{}],"ku91":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(t,a,n,s){var r,d=new e.Scene([[28,29,28,29,21,22,28,29,21,22,21,22,28,29,0,0,11,42,47,47],[8,25,26,27,28,29,5,5,28,29,28,29,5,5,5,6,5,42,47,47],[4,32,33,34,21,22,8,8,2,3,4,21,22,17,13,5,5,42,47,47],[17,14,14,14,28,29,8,8,9,10,7,28,29,36,36,36,36,51,47,47],[21,22,23,24,13,13,3,3,10,10,0,11,42,38,38,38,47,47,47,47],[28,29,30,31,13,21,22,6,1,10,0,11,42,38,38,38,47,47,47,47],[22,2,3,3,7,28,29,6,1,7,7,18,42,45,46,45,35,50,50,50],[29,16,7,7,0,1,1,21,22,21,22,8,42,45,45,46,44,8,8,8],[21,22,9,0,0,0,7,28,29,28,29,21,22,50,50,50,8,2,3,3]],document.getElementById("canvas_advanced"));function o(e){var o={spring:t,summer:a,fall:n,winter:s};(r=document.querySelector('[data-season="'+e+'"]')).disabled=!0,d.resetTiles().useTilesheet(o[e]).render()}document.body.onclick=function(e){var t=e.target;t.dataset.season&&(r.disabled=!1,o(t.dataset.season),e.preventDefault())},o("spring")};
},{"../../":"o2+O"}],"ohUJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(n,t){var r=[[21,22,23,24,9],[28,29,30,31,9],[22,5,3,6,10],[29,5,17,17,18]],s=document.getElementById("scene_sample");new e.Scene(r,s).useTilesheet(n).render();var c=document.getElementById("scene_sample_winter");new e.Scene(r,c).useTilesheet(t).render();var d=document.getElementById("scene_sample_animation");new e.Scene([[1,1,1,1,1],[17,17,17,17,17],[36,36,36,36,36],[38,38,38,38,38]],d).useTilesheet(n).render()};
},{"../../":"o2+O"}],"r4XT":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/spring.d4a39deb.png";
},{}],"Dino":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/summer.51098871.png";
},{}],"QsmL":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/fall.5a2087c2.png";
},{}],"rgpk":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/winter.12160b64.png";
},{}],"7QCb":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(t){s(t)}}function u(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this;Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../"),s=n(require("./scripts/tilesheet_bush")),a=n(require("./scripts/tilesheet_index_sample")),u=n(require("./scripts/tilesheet_advanced")),l=n(require("./scripts/scene_sample")),o=n(require("./images/spring.png")),c=n(require("./images/summer.png")),f=n(require("./images/fall.png")),p=n(require("./images/winter.png"));e(r,void 0,void 0,function(){var e,n,r,h,d,m,w,b,g,y;return t(this,function(t){switch(t.label){case 0:return e=new i.Tilesheet(o.default),n=new i.Tilesheet(c.default),r=new i.Tilesheet(f.default),h=new i.Tilesheet(p.default),d={tiles:[38,39,40,41],speed:300},m={tiles:[45,39],speed:300},w={tiles:[46,39],speed:300},b={tiles:[47,39],speed:300},g={tiles:[1,12,19,20],speed:300},e.setAnimations([d,m,w,b,g]),n.setAnimations([d,b,g]),r.setAnimations([d,m,w,b]),h.setAnimations([d,m,w]),(y=[e,n,r,h]).forEach(function(e){e.setTileSize(16).setMargin(1)}),[4,Promise.all(y.map(function(e){return e.waitForLoading()}))];case 1:return t.sent(),a.default(e),s.default(e),l.default(e,h),u.default(e,n,r,h),[2]}})});
},{"../":"o2+O","./scripts/tilesheet_bush":"q84K","./scripts/tilesheet_index_sample":"uzHk","./scripts/tilesheet_advanced":"ku91","./scripts/scene_sample":"ohUJ","./images/spring.png":"r4XT","./images/summer.png":"Dino","./images/fall.png":"QsmL","./images/winter.png":"rgpk"}]},{},["7QCb"], null)
//# sourceMappingURL=https://adrien-gueret.github.io/tilesheets/examples.79ce7e2e.map