parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"frUn":[function(require,module,exports) {
"use strict";var t=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,s=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(h){r={error:h}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},e=this&&this.__spread||function(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(t(arguments[i]));return e};function i(t){return t.map(function(t){return t.slice()})}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this.animationClocks=[],this.initialTiles=i(t),this.tiles=i(t),this.canvas=e}return t.prototype.getWidth=function(){return this.tilesheet.getTileSize().width*Math.max.apply(Math,e(this.tiles.map(function(t){return t.length})))},t.prototype.getHeight=function(){var t=this.tilesheet.getTileSize().height;return this.tiles.length*t},t.prototype.getCanvas=function(){return this.canvas},t.prototype.setCanvas=function(t){return this.canvas=t,this},t.prototype.setTile=function(t,e,i){return this.tiles[e][t]=i,this},t.prototype.renderTile=function(t,e,i,n,r){void 0===i&&(i=this.canvas),void 0===n&&(n=0),void 0===r&&(r=0);var s=i.getContext("2d"),o=this.tiles[e][t],h=this.tilesheet.getTileRect(o),a=h.x,l=h.y,c=h.width,u=h.height;return s.drawImage(this.tilesheet.getImage(),a,l,c,u,t*c+n,e*u+r,c,u),this},t.prototype.render=function(t,e,i){var n=this;if(void 0===t&&(t=this.canvas),void 0===e&&(e=0),void 0===i&&(i=0),!this.tilesheet)throw new Error("Scene::render: tilesheet is not defined.");if(!t)throw new Error("Scene::render: no canvas provided.");return t!==this.canvas?this.canvas=t:(t.width=this.getWidth(),t.height=this.getHeight()),this.tiles.forEach(function(r,s){r.forEach(function(r,o){n.renderTile(o,s,t,e,i)})}),this},t.prototype.resetTiles=function(){return this.tiles=i(this.initialTiles),this},t.prototype.updateTilesFromArray=function(t,e){var i=this,n=e+1;return t[n]||(n=0),this.tiles.forEach(function(r,s){r.forEach(function(r,o){if(r===t[e]){var h=t[n];i.setTile(o,s,h),i.canvas&&i.renderTile(o,s)}})}),n},t.prototype.useTilesheet=function(t){var e=this;return this.tilesheet=t,this.animationClocks.forEach(function(t){window.clearInterval(t)}),this.animationClocks=this.tilesheet.getAnimations().map(function(t){var i=0;return window.setInterval(function(){i=e.updateTilesFromArray(t.tiles,i)},t.speed)}),this},t}();exports.default=n;
},{}],"dguk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){void 0===t&&(t=null),this.currentTileIndex=0,this.canvas=t}return t.prototype.setCanvas=function(t){return this.canvas=t,this},t.prototype.setCurrentTile=function(t){return this.currentTileIndex=t,this},t.prototype.stopAnimation=function(){return window.clearInterval(this.animationClock),this},t.prototype.updateTilesFromArray=function(t,e,i){var n=e+1;return t[n]||(n=0,i)?(this.setCurrentTile(t[n]).render(),n):(this.stopAnimation(),n)},t.prototype.playAnimation=function(t,e){var i=this;void 0===e&&(e=!0);var n=this.tilesheet.getAnimation(t);if(!n)throw new Error('Sprite::playAnimation: animation "'+t+'" not found');this.stopAnimation();var r=0;return this.setCurrentTile(n.tiles[r]).render(),this.animationClock=window.setInterval(function(){r=i.updateTilesFromArray(n.tiles,r,e)},n.speed),this},t.prototype.render=function(t,e,i){void 0===t&&(t=this.canvas),void 0===e&&(e=0),void 0===i&&(i=0);var n=this.tilesheet.getTileRect(this.currentTileIndex),r=n.x,o=n.y,s=n.width,a=n.height;return t===this.canvas&&(t.width=s,t.height=a),t.getContext("2d").drawImage(this.tilesheet.getImage(),r,o,s,a,e,i,s,a),this},t.prototype.useTilesheet=function(t){return this.tilesheet=t,this.stopAnimation(),this},t}();exports.default=t;
},{}],"ffEZ":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},e=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function a(t){try{l(n.next(t))}catch(e){o(e)}}function s(t){try{l(n.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,s)}l((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(t){this.tileWidth=16,this.tileHeight=16,this.margin=1,this.animations=[],this.image=new Image,this.image.src=t}return n.prototype.getAnimations=function(){return this.animations},n.prototype.getAnimation=function(t){return this.animations.filter(function(e){return e.name===t})[0]},n.prototype.setAnimations=function(t){return this.animations=t,this},n.prototype.getTileSize=function(){return{width:this.tileWidth,height:this.tileHeight}},n.prototype.setTileSize=function(t,e){return void 0===e&&(e=t),this.tileWidth=t,this.tileHeight=e,this},n.prototype.setMargin=function(t){return this.margin=t,this},n.prototype.getImage=function(){return this.image},n.prototype.getTileRect=function(e){if(!this.image.complete)throw new Error("Tilesheets::getTileRect: image is not fully loaded yet.");var i=this.image.naturalWidth,n=Math.ceil(i/(this.tileWidth+this.margin)),r=Math.floor(e/n),o=e%n;return t({x:o*this.tileWidth+o*this.margin,y:r*this.tileHeight+r*this.margin},this.getTileSize())},n.prototype.getTileStyle=function(t){if(!this.image.complete)throw new Error("Tilesheets::getTileStyle: image is not fully loaded yet.");var e=this.getTileRect(t);return{display:"inline-block",width:e.width+"px",height:e.height+"px",backgroundImage:"url("+this.image.src+")",backgroundPosition:"-"+e.x+"px -"+e.y+"px"}},n.prototype.getTileDomElement=function(t){if(!this.image.complete)throw new Error("Tilesheets::getTileDomElement: image is not fully loaded yet.");var e=document.createElement("span"),i=this.getTileStyle(t);return Object.keys(i).forEach(function(t){e.style[t]=i[t]}),e},n.prototype.waitForLoading=function(){return e(this,void 0,void 0,function(){var t=this;return i(this,function(e){return this.image.complete?[2]:[2,new Promise(function(e,i){t.image.onload=e,t.image.onerror=i})]})})},n}();exports.default=n;
},{}],"S3PC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./src/models/Scene");exports.Scene=e.default;var r=require("./src/models/Sprite");exports.Sprite=r.default;var s=require("./src/models/Tilesheet");exports.Tilesheet=s.default;
},{"./src/models/Scene":"frUn","./src/models/Sprite":"dguk","./src/models/Tilesheet":"ffEZ"}],"B23C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(t){var n=document.createElement("canvas"),r=new e.Sprite(n),a=document.createElement("link");a.type="image/x-icon",a.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(a),r.useTilesheet(t).playAnimation("flower").render(),window.setInterval(function(){a.href=n.toDataURL()},300)};
},{"../../":"S3PC"}],"q84K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(t,n){var r=t.getTileDomElement(5);document.getElementById("bush_sample").appendChild(r),new e.Sprite(document.getElementById("canvas_bush_sample")).useTilesheet(t).setCurrentTile(5).render(),new e.Sprite(document.getElementById("canvas_bush_sample2")).useTilesheet(n).setCurrentTile(5).render()};
},{"../../":"S3PC"}],"uzHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=document.getElementById("tilesheet_index_sample");t.style.backgroundImage="linear-gradient(rgba(255, 255, 255, .7), rgba(255, 255, 255, .7)), url("+e.image.src+")",t.style.width=e.image.naturalWidth+"px",t.style.height=e.image.naturalHeight+"px";for(var a=document.createDocumentFragment(),r=0,d=0;d<=7;d++){for(var n=document.createDocumentFragment(),l=0;l<=6;l++){var i=document.createElement("td");i.appendChild(document.createTextNode(""+r)),n.appendChild(i),r++}var c=document.createElement("tr");c.appendChild(n),a.appendChild(c)}t.appendChild(a)};
},{}],"ku91":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(t,s,a,n){var d,r=new e.Scene([[28,29,28,29,21,22,28,29,21,22,21,22,28,29,0,0,11,42,47,47],[8,25,26,27,28,29,5,5,28,29,28,29,5,5,5,6,5,42,47,47],[4,32,33,34,21,22,8,8,2,3,4,21,22,17,13,5,5,42,47,47],[17,14,14,14,28,29,8,8,9,10,7,28,29,36,36,36,36,51,47,47],[21,22,23,24,13,13,3,3,10,10,0,11,42,38,38,38,47,47,47,47],[28,29,30,31,13,21,22,6,1,10,0,11,42,38,38,38,47,47,47,47],[22,2,3,3,7,28,29,6,1,7,7,18,42,45,46,45,35,50,50,50],[29,16,7,7,0,1,1,21,22,21,22,8,42,45,45,46,44,8,8,8],[21,22,9,0,0,0,7,28,29,28,29,21,22,50,50,50,8,2,3,3]],document.getElementById("canvas_advanced"));function i(e){var i={spring:t,summer:s,fall:a,winter:n};(d=document.querySelector('[data-season="'+e+'"]')).disabled=!0,d.classList.add("is-outlined"),r.resetTiles().useTilesheet(i[e]).render()}document.body.addEventListener("click",function(e){var t=e.target;t.dataset.season&&(d.disabled=!1,d.classList.remove("is-outlined"),i(t.dataset.season),e.preventDefault())}),i("spring")};
},{"../../":"S3PC"}],"ohUJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(n,t){var r=[[21,22,23,24,9],[28,29,30,31,9],[22,5,3,6,10],[29,5,17,17,18]],s=document.getElementById("scene_sample");new e.Scene(r,s).useTilesheet(n).render();var c=document.getElementById("scene_sample_winter");new e.Scene(r,c).useTilesheet(t).render();var d=document.getElementById("scene_sample_animation");new e.Scene([[1,1,1,1,1],[17,17,17,17,17],[36,36,36,36,36],[38,38,38,38,38]],d).useTilesheet(n).render()};
},{"../../":"S3PC"}],"bTi4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../");exports.default=function(t){new e.Sprite(document.getElementById("canvas_sprite_animated")).useTilesheet(t).playAnimation("flower").render();var a,n=new e.Sprite(document.getElementById("canvas_sprite_animated_advanced"));function i(e){(a=document.querySelector('[data-animation="'+e+'"]')).disabled=!0,a.classList.add("is-outlined"),["water","flower"].indexOf(e)>=0?n.playAnimation(e).render():n.stopAnimation()}n.useTilesheet(t),document.body.addEventListener("click",function(e){var t=e.target;t.dataset.animation&&(a.disabled=!1,a.classList.remove("is-outlined"),i(t.dataset.animation),e.preventDefault())}),i("flower")};
},{"../../":"S3PC"}],"r4XT":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/spring.d4a39deb.png";
},{}],"Dino":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/summer.51098871.png";
},{}],"QsmL":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/fall.5a2087c2.png";
},{}],"rgpk":[function(require,module,exports) {
module.exports="https://adrien-gueret.github.io/tilesheets/winter.12160b64.png";
},{}],"7QCb":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(t){s(t)}}function u(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},n=this;Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../"),s=r(require("./scripts/favicon")),a=r(require("./scripts/tilesheet_bush")),u=r(require("./scripts/tilesheet_index_sample")),l=r(require("./scripts/tilesheet_advanced")),o=r(require("./scripts/scene_sample")),c=r(require("./scripts/sprite_animated")),f=r(require("./images/spring.png")),p=r(require("./images/summer.png")),d=r(require("./images/fall.png")),h=r(require("./images/winter.png"));e(n,void 0,void 0,function(){var e,r,n,m,w,b,_,g,v,y;return t(this,function(t){switch(t.label){case 0:return e=new i.Tilesheet(f.default),r=new i.Tilesheet(p.default),n=new i.Tilesheet(d.default),m=new i.Tilesheet(h.default),w={tiles:[38,39,40,41],speed:300,name:"water"},b={tiles:[45,39],speed:300},_={tiles:[46,39],speed:300},g={tiles:[47,39],speed:300},v={tiles:[1,12,19,20],speed:300,name:"flower"},e.setAnimations([w,b,_,g,v]),r.setAnimations([w,g,v]),n.setAnimations([w,b,_,g]),m.setAnimations([w,b,_]),(y=[e,r,n,m]).forEach(function(e){e.setTileSize(16).setMargin(1)}),[4,Promise.all(y.map(function(e){return e.waitForLoading()}))];case 1:return t.sent(),s.default(e),u.default(e),a.default(e,n),c.default(e),o.default(e,m),l.default(e,r,n,m),[2]}})});
},{"../":"S3PC","./scripts/favicon":"B23C","./scripts/tilesheet_bush":"q84K","./scripts/tilesheet_index_sample":"uzHk","./scripts/tilesheet_advanced":"ku91","./scripts/scene_sample":"ohUJ","./scripts/sprite_animated":"bTi4","./images/spring.png":"r4XT","./images/summer.png":"Dino","./images/fall.png":"QsmL","./images/winter.png":"rgpk"}]},{},["7QCb"], null)
//# sourceMappingURL=https://adrien-gueret.github.io/tilesheets/examples.68d7be04.map